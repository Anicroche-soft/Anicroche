@script [
    $theme = `clair`
    $format = `petit`
    $orientation = `paysage`

    const actualiser_theme = (media_query) =>
    {
        $theme = media_query.matches ? `sombre` : `clair`

        document.documentElement.classList.remove(`clair`, `sombre`)
        document.documentElement.classList.add($theme)
    }

    const actualiser_format = () =>
    {
        const w = window.innerWidth
        const h = window.innerHeight

        $format = w > 1024 ? `grand` : `petit`
        $orientation = w > h ? `paysage` : `portrait`

        document.documentElement.classList.remove(`grand`,   `petit`, `paysage`, `portrait`)
        document.documentElement.classList.add($format, $orientation)
    }

    const media_query = window.matchMedia(`(prefers-color-scheme: dark)`)

    actualiser_theme(media_query)
    actualiser_format()

    media_query.addEventListener(`change`, actualiser_theme)
    window.addEventListener(`resize`, actualiser_format)
]

@style [
    @font-face {
        font-family: "Eczar";
        src: url("/systeme/fontes/Eczar.ttf") format("truetype");
        font-weight: 400 800;
        font-style: normal;
        font-display: swap;
    }

    * {
        gap: var(--d-ecart);

        background-color: var(--c-fond);
        font-size: var(--d-fonte);
        line-height: var(--d-fonte);
        color: var(--c-flux);

        outline-style: solid;
        outline-color: transparent;
        outline-width: 0.125rem;
        outline-offset: 0rem;

        transition: outline-color 512ms, outline-offset 512ms;

        --c-fond: transparent;
    }

    *:focus-visible {
        outline-color: var(--c-complementaire);
        outline-offset: 0.125rem;
    }

    path {
        stroke: var(--c-flux);
        stroke-width: 0.125rem;
        stroke-linejoin: round;
        fill: none;
    }

    html {
        overflow: hidden;

        --d-fonte: 1rem;
        --d-ligne: 1;
        --d-ecart: 1rem;
        --d-marge: 1rem;
        --d-blur: 4rem;

        --t-theme: 25;

        --p-trans: 50%;

        --c-noir:  oklch(0.00 0.00 0);
        --c-blanc: oklch(1.00 0.00 0);

        --c-noir-trans:  oklch(0.00 0.00 0 / var(--p-trans));
        --c-blanc-trans: oklch(1.00 0.00 0 / var(--p-trans));

        --c-boue:  oklch(0.25 0.01 var(--t-theme));
        --c-creme: oklch(0.95 0.01 var(--t-theme));

        --c-boue-trans:  oklch(0.25 0.01 var(--t-theme) / var(--p-trans));
        --c-creme-trans: oklch(0.95 0.01 var(--t-theme) / var(--p-trans));

        --c-sombre: oklch(0.45 0.20 var(--t-theme));
        --c-vif:    oklch(0.65 0.20 var(--t-theme));
        --c-clair:  oklch(0.85 0.20 var(--t-theme));

        --c-complementaire: oklch(0.65 0.20 calc(var(--t-theme) + 180));

        --c-fond: var(--c-analogue);
        --c-flux: var(--c-inverse);
    }

    .clair {
        color-scheme: light;

        --c-theme:    var(--c-blanc);
        --c-analogue: var(--c-creme);
        --c-inverse:  var(--c-boue);

        --c-theme-trans:    var(--c-blanc-trans);
        --c-analogue-trans: var(--c-creme-trans);
        --c-inverse-trans:  var(--c-boue-trans);

        --c-plus:     var(--c-clair);
        --c-moins:    var(--c-sombre);

        --b-degrade-vif: linear-gradient(90deg, var(--c-vif), var(--c-clair));
    }

    .sombre {
        color-scheme: dark;

        --c-theme:    var(--c-noir);
        --c-analogue: var(--c-boue);
        --c-inverse:  var(--c-creme);

        --c-theme-trans:    var(--c-noir-trans);
        --c-analogue-trans: var(--c-boue-trans);
        --c-inverse-trans:  var(--c-creme-trans);

        --c-plus:     var(--c-sombre);
        --c-moins:    var(--c-clair);

        --b-degrade-vif: linear-gradient(90deg, var(--c-sombre), var(--c-vif));
    }

    body {
        width: 100vw;
        height: 100vh;

        gap: 0;
    }
]

tete

corps
